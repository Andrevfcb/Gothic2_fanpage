(this.webpackJsonpg2fanpage=this.webpackJsonpg2fanpage||[]).push([[0],[,,,,,,,,,,,function(e,t,n){"use strict";n(1);var a=n(7),c=(n(56),n(0));t.a=function(e){return e.href?Object(c.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(c.jsx)(a.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(c.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),c=Object(a.createContext)({isLoggedIn:!1,userId:null,token:null,avatar:null,role:null,login:function(){},logout:function(){}})},,function(e,t,n){"use strict";n(1),n(57);var a=n(0);t.a=function(e){return Object(a.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(a.jsx)("div",{className:"lds-dual-ring"})})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));var a=n(37),c="REQUIRE",r="MINLENGTH",s="MAXLENGTH",i="EMAIL",l=function(){return{type:c}},o=function(){return{type:i}},u=function(e,t){var n,l=!0,o=Object(a.a)(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;u.type===c&&(l=l&&e.trim().length>0),u.type===r&&(l=l&&e.trim().length>=u.val),u.type===s&&(l=l&&e.trim().length<=u.val),"MIN"===u.type&&(l=l&&+e>=u.val),"MAX"===u.type&&(l=l&&+e<=u.val),u.type===i&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(j){o.e(j)}finally{o.f()}return l}},,,function(e,t,n){"use strict";var a=n(6),c=n(1),r=n.n(c),s=n(10),i=n.n(s),l=n(65),o=n(26),u=(n(55),n(0)),j=function(e){var t=Object(u.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(u.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:e.header}),Object(u.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(u.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return i.a.createPortal(t,document.getElementById("modal-hook"))};t.a=function(e){return Object(u.jsxs)(r.a.Fragment,{children:[e.show&&Object(u.jsx)(o.a,{onClick:e.onCancel}),Object(u.jsx)(l.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(u.jsx)(j,Object(a.a)({},e))})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(12),c=n.n(a),r=n(15),s=n(2),i=n(1),l=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],l=Object(i.useState)(),o=Object(s.a)(l,2),u=o[0],j=o[1],d=Object(i.useRef)([]),b=Object(i.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,s,i,l,o,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,s=u.length>3&&void 0!==u[3]?u[3]:{},a(!0),i=new AbortController,d.current.push(i),e.prev=6,e.next=9,fetch(t,{method:n,body:r,headers:s,signal:i.signal});case 9:return l=e.sent,e.next=12,l.json();case 12:if(o=e.sent,d.current=d.current.filter((function(e){return e!==i})),l.ok){e.next=16;break}throw new Error(o.message);case 16:return a(!1),e.abrupt("return",o);case 20:throw e.prev=20,e.t0=e.catch(6),j(e.t0.message),a(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(i.useEffect)((function(){return function(){d.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:u,sendRequest:b,clearError:function(){j(null)}}}},function(e,t,n){"use strict";var a=n(2),c=n(6),r=n(1),s=n(18),i=(n(59),n(0)),l=function(e,t){switch(t.type){case"CHANGE":return Object(c.a)(Object(c.a)({},e),{},{value:t.val,isValid:Object(s.c)(t.val,t.validators)});case"TOUCH":return Object(c.a)(Object(c.a)({},e),{},{isTouched:!0});default:return e}};t.a=function(e){var t=Object(r.useReducer)(l,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),n=Object(a.a)(t,2),c=n[0],s=n[1],o=e.id,u=e.onInput,j=c.value,d=c.isValid;Object(r.useEffect)((function(){u(o,j,d)}),[o,j,d,u]);var b=function(t){s({type:"CHANGE",val:t.target.value,validators:e.validators})},O=function(){s({type:"TOUCH"})},h="input"===e.element?Object(i.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:b,onBlur:O,value:c.value}):Object(i.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:b,onBlur:O,value:c.value});return Object(i.jsxs)("div",{className:"form-control ".concat(!c.isValid&&c.isTouched&&"form-control--invalid"),children:[Object(i.jsx)("label",{htmlFor:e.id,children:e.label}),h,!c.isValid&&c.isTouched&&Object(i.jsx)("p",{children:e.errorText})]})}},function(e,t,n){"use strict";t.a=n.p+"static/media/skull.372280de.png"},,function(e,t,n){"use strict";n(1);var a=n(10),c=n.n(a),r=(n(54),n(0));t.a=function(e){return c.a.createPortal(Object(r.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),c=n(25),r=n(6),s=n(1),i=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var a in e.inputs)e.inputs[a]&&(n=a===t.inputId?n&&t.isValid:n&&e.inputs[a].isValid);return Object(r.a)(Object(r.a)({},e),{},{inputs:Object(r.a)(Object(r.a)({},e.inputs),{},Object(c.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=function(e,t){var n=Object(s.useReducer)(i,{inputs:e,isValid:t}),c=Object(a.a)(n,2),r=c[0],l=c[1];return[r,Object(s.useCallback)((function(e,t,n){l({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),Object(s.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},function(e,t,n){"use strict";n(1);var a=n(21),c=n(11),r=n(0);t.a=function(e){return Object(r.jsx)(a.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:Object(r.jsx)(c.a,{onClick:e.onClear,children:"Okay"}),children:Object(r.jsx)("p",{children:e.error})})}},function(e,t,n){"use strict";var a=n(30),c=n(2),r=n(1),s=n(11),i=(n(58),n(0));t.a=function(e){var t=Object(r.useState)(),n=Object(c.a)(t,2),l=n[0],o=n[1],u=Object(r.useState)(),j=Object(c.a)(u,2),d=j[0],b=j[1],O=Object(r.useState)(!1),h=Object(c.a)(O,2),p=h[0],f=h[1],m=Object(r.useState)([]),x=Object(c.a)(m,2),v=x[0],g=x[1],k=Object(r.useState)([]),y=Object(c.a)(k,2),C=y[0],N=y[1],w=Object(r.useState)(null),I=Object(c.a)(w,2),S=(I[0],I[1]),E=Object(r.useRef)();Object(r.useEffect)((function(){if(l){var t=new FileReader,n=v;t.onload=function(){"images"===e.id&&(n.push(t.result),g(n)),b(t.result)},t.readAsDataURL(l)}}),[l]);var T=function(t){S(t.target.id);var n=v,a=C;n.length>0&&(n.splice(t.target.id,1),a.splice(t.target.id,1),g(n),N(a),S(null));var c=p;a.length>1?(f(!0),c=!0):(f(!1),c=!1),e.onInput(e.id,a,c)},_=v.map((function(e,t){return Object(i.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(i.jsx)("img",{src:e,alt:"Preview",id:t,onClick:T,style:{cursor:"pointer"}})},t)}));return Object(i.jsxs)("div",{className:"form-control",children:[Object(i.jsx)("input",{id:e.id,ref:E,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var n,c,r,s=p;N([].concat(Object(a.a)(C),[t.target.files[0]])),t.target.files&&1===t.target.files.length?(n=t.target.files[0],o(n),c=[].concat(Object(a.a)(C),[n]),f(!0),s=!0):(f(!1),s=!1),r="images"===e.id?c:n,"image"===e.id?console.log("image"):"image"!==e.id&&console.log("images"),e.onInput(e.id,r,s)}}),Object(i.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(i.jsxs)("div",{className:"image-upload__preview",children:["images"===e.id&&v.length>0&&_,!("images"===e.id)&&d&&Object(i.jsx)("img",{src:d,alt:"Preview"}),"images"===e.id&&!v.length>0&&Object(i.jsx)("p",{children:"Please pick an image."}),!("images"===e.id)&&!d&&Object(i.jsx)("p",{children:"Please pick an image."})]}),Object(i.jsx)(s.a,{type:"button",onClick:function(){E.current.click()},children:"PICK IMAGE"})]})]})}},,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n.n(c),s=n(10),i=n.n(s),l=(n(44),n(3)),o=n(7),u=n(2),j=n(14),d=n(12),b=n.n(d),O=n(15),h=n(6),p=(n(46),n(47),n(0)),f=function(e){return Object(p.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:Object(p.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})})},m=["Home","Characters","Store","Contact"],x=function(e){var t=e.openModal,n=Object(c.useContext)(j.a),a=m.map((function(e,t){var n;return n="Home"===e?"/":"/"+e.toLowerCase(),Object(p.jsx)("li",{className:"main-navigation",children:Object(p.jsx)(o.c,{to:n,exact:"".concat("Home"===e),children:e})},t)}));return Object(p.jsxs)("ul",{className:"nav",children:[a,!n.isLoggedIn&&Object(p.jsx)("li",{className:"user-navigation",id:"auth",onClick:t,children:"Login"}),n.isLoggedIn&&Object(p.jsx)("li",{className:"user-navigation",id:"auth",onClick:n.logout,children:"Logout"}),n.isLoggedIn&&Object(p.jsx)("li",{className:"user-navigation",id:"cart",onClick:t,children:Object(p.jsx)("i",{class:"fas fa-shopping-cart"})}),n.isLoggedIn&&Object(p.jsx)("li",{className:"user-navigation",onClick:function(){return console.log(n.userId)},children:Object(p.jsx)(f,{image:"".concat("https://g2backend.herokuapp.com","/").concat(n.avatar),alt:"avatar"})}),n.isLoggedIn&&"admin"===n.role&&Object(p.jsx)("li",{className:"user-navigation",id:"admin",children:Object(p.jsx)(o.c,{to:"/admin",children:"Admin"})})]})},v=n(22),g=n(31),k=n(32),y=n(21),C=n(16),N=n(11),w=n(18),I=n(33),S=n(23),E=function(e){var t=e.userSubmitHandler,n=e.isLoginModal,a=e.inputHandler,c=e.formState;return Object(p.jsx)(r.a.Fragment,{children:Object(p.jsxs)("form",{onSubmit:t,children:[!n&&Object(p.jsx)(S.a,{id:"userName",element:"input",type:"text",label:"username",validators:[Object(w.b)()],errorText:"Please enter a valid username.",onInput:a}),!n&&Object(p.jsx)(I.a,{center:!0,id:"avatar",onInput:a,errorText:"Please provide an image."}),Object(p.jsx)(S.a,{id:"email",element:"input",type:"email",label:"email",validators:[Object(w.a)()],errorText:"Please enter a valid email.",onInput:a}),Object(p.jsx)(S.a,{id:"password",element:"input",type:"password",label:"password",validators:[Object(w.b)()],errorText:"Please enter a valid password.",onInput:a}),Object(p.jsx)(N.a,{type:"submit",onClick:t,disabled:!c.isValid,children:n?"LOGIN":"SIGNUP"})]})})},T=(n(60),n(61),function(e){return Object(p.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}),_=function(e){var t=e.closeModal,n=Object(v.a)(),a=n.isLoading,s=(n.error,n.sendRequest),i=(n.clearError,Object(c.useState)([])),l=Object(u.a)(i,2),d=l[0],h=l[1],f=Object(c.useState)(0),m=Object(u.a)(f,2),x=m[0],g=m[1],k=Object(c.useContext)(j.a),y=k.userId;Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("".concat("https://g2backend.herokuapp.com","/api/cart/").concat(y));case 3:t=e.sent,h(t.cart),I(t.cart),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var w=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.id),n=t.target.id,e.prev=2,e.next=5,s("".concat("https://g2backend.herokuapp.com","/api/cart/").concat(n),"PATCH",null,{Authorization:"Bearer "+k.token});case 5:a=e.sent,h(a.cart),I(a.cart),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=0;e.length>0&&e.map((function(e){return t+=e.price})),g(t)};return Object(p.jsxs)(r.a.Fragment,{children:[a&&Object(p.jsx)(C.a,{asOverlay:!0}),Object(p.jsx)("div",{className:"cart",children:Object(p.jsx)("div",{className:"cart-container",children:Object(p.jsxs)(T,{children:[!(d.length>0)&&Object(p.jsxs)("p",{children:["Your cart is empty, go to ",Object(p.jsx)(o.b,{to:"/shoop",onClick:t,style:{color:"black"},children:"shoop section"})]}),d.length>0&&Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)("h3",{children:"Your items"}),Object(p.jsxs)("div",{className:"cart-container__items",children:[Object(p.jsxs)("div",{className:"cart-container__items-titles",children:[Object(p.jsx)("p",{children:"Item"}),Object(p.jsx)("p",{children:"Quantity"}),Object(p.jsx)("p",{children:"Price"})]}),d.length>0&&function(){var e;return d.length>0&&(e=d.map((function(e){return Object(p.jsxs)("div",{className:"cart-container__items-info",children:[Object(p.jsx)("p",{children:e.product.name}),Object(p.jsx)("p",{children:e.quantity}),Object(p.jsxs)("p",{children:[e.price," $"]}),Object(p.jsx)("span",{class:"fas fa-times",id:e.product.id,onClick:w})]})}))),e}()]}),Object(p.jsxs)("h3",{style:{textAlign:"end"},children:["Total: ",Object(p.jsxs)("span",{children:[x," $"]})]}),Object(p.jsx)(N.a,{onClick:function(){alert("Sorry, it's just demonstration app :)")},children:"BUY"})]})]})})})]})},V=n(65),L=(n(62),function(e){var t=Object(p.jsx)(V.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsx)("aside",{className:"side-drawer",onClick:e.onClick,children:e.children})});return i.a.createPortal(t,document.getElementById("drawer-hook"))}),A=n(26),P=n(24),H=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(u.a)(s,2),l=i[0],d=i[1],f=Object(c.useState)(!0),m=Object(u.a)(f,2),w=m[0],I=m[1],S=Object(c.useState)(!1),T=Object(u.a)(S,2),V=T[0],H=T[1],D=Object(v.a)(),M=D.isLoading,F=D.error,G=D.sendRequest,z=D.clearError,R=Object(c.useContext)(j.a),U=function(){a(!1),d(!1)},B=function(e){return"auth"===e.target.id?a(!0):d(!0)},J=Object(g.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),q=Object(u.a)(J,3),Y=q[0],$=q[1],Q=q[2],X=function(){w?Q(Object(h.a)(Object(h.a)({},Y.inputs),{},{userName:{value:"",isValid:!1},avatar:{value:null,isValid:!1}}),!1):Q(Object(h.a)(Object(h.a)({},Y.inputs),{},{userName:void 0,avatar:void 0}),Y.inputs.email.isValid&&Y.inputs.password.isValid),I((function(e){return!e}))},K=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!w){e.next=15;break}return e.prev=2,e.next=5,G("".concat("https://g2backend.herokuapp.com","/api/users/login"),"POST",JSON.stringify({email:Y.inputs.email.value,password:Y.inputs.password.value}),{"Content-Type":"application/json"});case 5:n=e.sent,R.login(n.userId,n.token,n.avatar,n.role),I(!0),U(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:e.next=31;break;case 15:return e.prev=15,(a=new FormData).append("email",Y.inputs.email.value),a.append("name",Y.inputs.userName.value),a.append("password",Y.inputs.password.value),a.append("avatar",Y.inputs.avatar.value),e.next=23,G("".concat("https://g2backend.herokuapp.com","/api/users/signup"),"POST",a);case 23:c=e.sent,R.login(c.userId,c.token,c.avatar,c.role),I(!0),U(),e.next=31;break;case 29:e.prev=29,e.t1=e.catch(15);case 31:case"end":return e.stop()}}),e,null,[[2,11],[15,29]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){H(!1)};return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(k.a,{error:F,onClear:z}),V&&Object(p.jsx)(A.a,{onClick:W}),Object(p.jsx)(L,{show:V,onClick:W,children:Object(p.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(p.jsx)(x,{openModal:B})})}),Object(p.jsx)(y.a,{show:n,onCancel:U,header:Object(p.jsxs)(r.a.Fragment,{children:[M&&Object(p.jsx)(C.a,{asOverlay:!0}),Object(p.jsx)("h2",{children:w?"Login":"Signup"}),Object(p.jsx)("span",{class:"fas fa-times",onClick:U}),w?Object(p.jsx)(N.a,{onClick:X,children:"Change to Signup"}):Object(p.jsx)(N.a,{onClick:X,children:"Change to Login"})]}),contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",children:Object(p.jsx)(E,{userSubmitHandler:K,isLoginModal:w,inputHandler:$,formState:Y})}),Object(p.jsx)(y.a,{show:l,onCancel:U,style:{background:"url(https://wallpaperaccess.com/full/983279.jpg)"},header:Object(p.jsxs)(r.a.Fragment,{children:[M&&Object(p.jsx)(C.a,{asOverlay:!0}),Object(p.jsx)("h2",{children:"Cart"}),Object(p.jsx)("span",{class:"fas fa-times",onClick:U})]}),children:Object(p.jsx)(_,{closeModal:U})}),Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)(o.b,{to:"/",exact:!0,children:Object(p.jsxs)("div",{className:"logo title",children:[Object(p.jsx)("img",{src:P.a,alt:"Skull",className:"skull"}),Object(p.jsx)("span",{children:"Gothic II Fanpage"})]})}),Object(p.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){H(!0)},children:[Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{})]}),Object(p.jsx)("div",{className:"navigation",children:Object(p.jsx)(x,{openModal:B})})]})]})},D=(n(63),["Home","Characters","Shoop","Contact"]),M=function(){var e=D.map((function(e,t){var n;return n="Home"===e?"/":"/"+e.toLowerCase(),Object(p.jsx)("li",{children:Object(p.jsx)(o.c,{to:n,exact:"".concat("Home"===e),children:e})},t)}));return Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsx)(o.b,{to:"/",exact:!0,children:Object(p.jsxs)("div",{className:"footer-logo logo title",children:[Object(p.jsx)("img",{src:P.a,alt:"Skull",className:"skull"}),Object(p.jsx)("span",{children:"Gothic II Fanpage"})]})}),Object(p.jsxs)("div",{className:"footer-menu",children:[Object(p.jsx)("h3",{children:"MENU"}),Object(p.jsx)("ul",{className:"nav",children:e})]})]})},F=r.a.lazy((function(){return n.e(7).then(n.bind(null,77))})),G=r.a.lazy((function(){return n.e(5).then(n.bind(null,78))})),z=r.a.lazy((function(){return n.e(4).then(n.bind(null,73))})),R=r.a.lazy((function(){return n.e(9).then(n.bind(null,79))})),U=r.a.lazy((function(){return n.e(3).then(n.bind(null,76))})),B=r.a.lazy((function(){return n.e(8).then(n.bind(null,74))})),J=r.a.lazy((function(){return n.e(6).then(n.bind(null,75))}));var q=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(),i=Object(u.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(!1),d=Object(u.a)(j,2),b=d[0],O=d[1],h=Object(c.useState)(!1),p=Object(u.a)(h,2),f=p[0],m=p[1],x=Object(c.useState)(!1),v=Object(u.a)(x,2),g=v[0],k=v[1],y=Object(c.useCallback)((function(e,t,n,a,c){r(t),O(e),m(n),k(a);var s=c||new Date((new Date).getTime()+36e5);o(s),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,avatar:n,role:a,expiration:s.toISOString()}))}),[]),C=Object(c.useCallback)((function(){r(null),o(null),O(null),m(null),k(null),localStorage.removeItem("userData")}),[]);return Object(c.useEffect)((function(){if(n&&l){var e=l.getTime()-(new Date).getTime();a=setTimeout(C,e)}else clearTimeout(a)}),[n,C,l]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&y(e.userId,e.token,e.avatar,e.role,new Date(e.expiration))}),[y]),{token:n,login:y,logout:C,userId:b,avatar:f,role:g}}(),t=e.token,n=e.login,r=e.logout,s=e.userId,i=e.avatar,d=e.role,b=Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{path:"/",exact:!0,children:Object(p.jsx)(F,{})}),Object(p.jsx)(l.b,{path:"/characters",exact:!0,children:Object(p.jsx)(G,{})}),Object(p.jsx)(l.b,{path:"/characters/:cid",children:Object(p.jsx)(z,{})}),Object(p.jsx)(l.b,{path:"/store",exact:!0,children:Object(p.jsx)(R,{})}),Object(p.jsx)(l.b,{path:"/store/:iid",children:Object(p.jsx)(B,{})}),Object(p.jsx)(l.b,{path:"/contact",children:Object(p.jsx)(J,{})}),Object(p.jsx)(l.b,{path:"/admin",exact:!0,children:Object(p.jsx)(U,{})}),Object(p.jsx)(l.a,{to:"/"})]});return Object(p.jsx)(j.a.Provider,{value:{isLoggedIn:!!t,token:t,userId:s,avatar:i,role:d,login:n,logout:r},children:Object(p.jsx)(o.a,{children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(H,{}),Object(p.jsx)(c.Suspense,{fallback:Object(p.jsx)("div",{className:"center",children:Object(p.jsx)(C.a,{})}),children:b}),Object(p.jsx)(M,{})]})})})};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(q,{})}),document.getElementById("root"))}],[[64,1,2]]]);
//# sourceMappingURL=main.f83c7cec.chunk.js.map