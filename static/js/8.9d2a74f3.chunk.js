(this.webpackJsonpg2fanpage=this.webpackJsonpg2fanpage||[]).push([[8],{71:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(12),a=c.n(n),s=c(15),r=c(2),i=c(1),o=c.n(i),j=(c(71),c(32)),u=c(22),l=c(16),b=c(14),d=c(3),p=c(11),O=c(0);t.default=function(){var e=Object(u.a)(),t=e.isLoading,c=e.error,n=e.sendRequest,m=e.clearError,h=Object(i.useState)(),f=Object(r.a)(h,2),x=f[0],v=f[1],g=Object(i.useState)(),k=Object(r.a)(g,2),y=k[0],N=k[1],C=Object(i.useState)(1),_=Object(r.a)(C,2),q=_[0],w=_[1],S=Object(i.useState)(0),R=Object(r.a)(S,2),T=R[0],A=R[1],D=Object(i.useState)(!1),I=Object(r.a)(D,2),J=I[0],L=I[1],M=Object(i.useState)(!1),B=Object(r.a)(M,2),E=B[0],P=B[1],z=Object(i.useContext)(b.a),F=Object(i.useRef)(),H=Object(i.useRef)(),Q=Object(d.g)().iid,W=z.userId;Object(i.useEffect)((function(){window.scrollTo(0,0);var e=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("".concat("https://g2backend.herokuapp.com","/api/items/").concat(Q));case 3:t=e.sent,v(t.item),N(t.item.price),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var X=function(e){var t,c;c=(t="+"===e.target.value?q+1:q-1)*x.price,w(t),N(c),function(e){var t=!1,c=!1;"+"===e.target.value?t=!(!x||q+1!==x.quantity):c=!(!x||q-1!==0),P(t),L(c)}(e)},Y=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=8;break}return e.prev=1,e.next=4,n("".concat("https://g2backend.herokuapp.com","/api/cart/").concat(W),"POST",JSON.stringify({cartItems:{product:x.id,quantity:q,price:y}}),{"Content-Type":"application/json",Authorization:"Bearer "+z.token});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(o.a.Fragment,{children:[Object(O.jsx)(j.a,{error:c,onClear:m}),Object(O.jsxs)("div",{className:"item",children:[t&&Object(O.jsx)(l.a,{asOverlay:!0}),Object(O.jsx)("div",{className:"item-image",children:Object(O.jsx)("h1",{children:x&&x.name})}),Object(O.jsxs)("div",{className:"item-container",ref:H,children:[Object(O.jsxs)("div",{className:"item-container__image",children:[Object(O.jsx)("div",{className:"item-container__image-main",ref:F,children:x&&Object(O.jsx)("img",{src:"".concat("https://g2backend.herokuapp.com","/").concat(x.images[T].img),alt:x.name,onMouseMove:function(e){var t=e.clientX-F.current.offsetLeft,c=e.clientY-F.current.getBoundingClientRect().top;t=t/F.current.offsetWidth*100,c=c/F.current.offsetHeight*100,e.target.style.transform="translate(-"+t+"%, -"+c+"%) scale(2)"},onMouseLeave:function(e){e.target.style.transform="translate(-50%, -50%) scale(1)"}})}),Object(O.jsx)("div",{className:"item-container__image-rest",children:x&&x.images.map((function(e,t){return Object(O.jsx)("img",{src:"".concat("https://g2backend.herokuapp.com","/").concat(e.img),alt:x.name,onClick:function(){A(t)},className:T===t&&"active"})}))})]}),Object(O.jsxs)("div",{className:"item-container__info",children:[Object(O.jsx)("h2",{children:"Item informations"}),Object(O.jsxs)("p",{children:["Name: ",Object(O.jsx)("span",{children:x&&x.name})]}),Object(O.jsxs)("p",{children:["Description: ",Object(O.jsx)("span",{children:x&&x.description})]}),Object(O.jsxs)("p",{children:["Quantity: ",Object(O.jsx)("span",{children:x&&x.quantity})]}),Object(O.jsxs)("p",{children:["Price: ",Object(O.jsxs)("span",{children:[x&&x.price," $"]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"item-container__info-quantity",children:[Object(O.jsx)("h3",{children:"Choose quantity and buy!"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{value:"-",className:"button-quantity",onClick:X,disabled:J,children:"-"}),Object(O.jsx)("span",{children:q}),Object(O.jsx)("button",{value:"+",className:"button-quantity",onClick:X,disabled:E,children:"+"})]}),Object(O.jsx)("p",{children:Object(O.jsx)(p.a,{onClick:Y,children:"ADD TO CART"})})]})]})]})]})]})}}}]);
//# sourceMappingURL=8.9d2a74f3.chunk.js.map